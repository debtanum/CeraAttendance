<UserControl x:Class="CeraRegularize.Controls.BubbleDayControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="44" d:DesignWidth="44">
    <!--
      A circular day cell used by the bubble calendar. Each day is rendered as
      an ellipse with optional attendance overlays (colored halves) and a ring
      around the perimeter indicating the selected mode (WFO/WFH). The day
      number is centered on top of the background. Colors and geometry are
      driven from dependency properties on the code‑behind.
    -->
    <Grid x:Name="RootGrid" Width="44" Height="44">
        <!-- Background circle -->
        <Ellipse x:Name="BackgroundEllipse"
                 Fill="{Binding BackgroundColor, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 Stroke="{Binding BorderColor, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 StrokeThickness="3" />
        <!-- Top half overlay for attendance state (e.g. previously marked WFO/WFH) -->
        <Path x:Name="TopHalf" Fill="Transparent" Visibility="Collapsed" />
        <!-- Bottom half overlay for attendance state -->
        <Path x:Name="BottomHalf" Fill="Transparent" Visibility="Collapsed" />
        <!-- Outer ring to indicate the assigned mode (WFO/WFH) -->
        <Ellipse x:Name="ModeRing"
                 StrokeThickness="3"
                 Stroke="Transparent"
                 Fill="Transparent"
                 Visibility="Collapsed" />
        <Path x:Name="ModeRingTop"
              StrokeThickness="3"
              Stroke="Transparent"
              Fill="Transparent"
              StrokeStartLineCap="Round"
              StrokeEndLineCap="Round"
              Visibility="Collapsed" />
        <Path x:Name="ModeRingBottom"
              StrokeThickness="3"
              Stroke="Transparent"
              Fill="Transparent"
              StrokeStartLineCap="Round"
              StrokeEndLineCap="Round"
              Visibility="Collapsed" />
        <!-- Day number text -->
        <TextBlock x:Name="DayText"
                   Text="{Binding DayString, RelativeSource={RelativeSource AncestorType=UserControl}}"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   FontSize="12"
                   FontWeight="Bold"
                   Foreground="{Binding ForegroundColor, RelativeSource={RelativeSource AncestorType=UserControl}}" />
    </Grid>
</UserControl>

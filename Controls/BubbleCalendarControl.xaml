<UserControl x:Class="CeraRegularize.Controls.BubbleCalendarControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:CeraRegularize.Controls"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="400" d:DesignWidth="300">
    <!--
      Bubble calendar control inspired by the original PySide6 implementation. This
      control displays a month grid with circular day cells, month navigation
      buttons, weekday headers and a legend indicating counts for WFO/WFH modes.
      Day cells are rendered using the BubbleDayControl defined in this project.
    -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <!-- Month navigation and label -->
        <DockPanel Grid.Row="0" Margin="0,0,0,4">
            <Button x:Name="PrevMonthButton"
                    Content="&lt;"
                    Width="36"
                    Height="36"
                    Margin="0"
                    Padding="0"
                    FontSize="18"
                    FontWeight="Bold"
                    Background="Transparent"
                    BorderBrush="Transparent"
                    Click="PrevMonthButton_Click"
                    HorizontalAlignment="Left" />
            <Button x:Name="NextMonthButton"
                    Content="&gt;"
                    Width="36"
                    Height="36"
                    Margin="0"
                    DockPanel.Dock="Right"
                    Padding="0"
                    FontSize="18"
                    FontWeight="Bold"
                    Background="Transparent"
                    BorderBrush="Transparent"
                    Click="NextMonthButton_Click"
                    HorizontalAlignment="Right" />
            <TextBlock x:Name="MonthLabel"
                       FontWeight="Bold"
                       FontSize="14"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       Text="FEB 2026"
                       Foreground="{DynamicResource TextBrush}"
                       TextAlignment="Center"
                       Margin="4,0"
                       MouseLeftButtonDown="MonthLabel_MouseLeftButtonDown" />
        </DockPanel>
        <!-- Weekday labels (Monday-first) -->
        <UniformGrid Grid.Row="1" Columns="7" Rows="1" Margin="0,0,0,4">
            <TextBlock Text="MON" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
            <TextBlock Text="TUE" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
            <TextBlock Text="WED" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
            <TextBlock Text="THU" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
            <TextBlock Text="FRI" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
            <TextBlock Text="SAT" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
            <TextBlock Text="SUN" HorizontalAlignment="Center" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" FontWeight="SemiBold" />
        </UniformGrid>
        <!-- Day grid: 6 rows of 7 columns -->
        <UniformGrid x:Name="DayGrid" Grid.Row="2" Columns="7" Rows="6" />
        <!-- Legend showing counts for each mode -->
        <WrapPanel Grid.Row="3" Margin="4,4,4,0" VerticalAlignment="Center">
            <Ellipse Fill="#00B816" Width="10" Height="10" Margin="0,0,4,0" />
            <TextBlock x:Name="WfoCountText" Text="WFO: 0" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" Margin="0,0,12,0" />
            <Ellipse Fill="#00A1F7" Width="10" Height="10" Margin="0,0,4,0" />
            <TextBlock x:Name="WfhCountText" Text="WFH: 0" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" Margin="0,0,12,0" />
            <Ellipse Fill="#FFCB35" Width="10" Height="10" Margin="0,0,4,0" />
            <TextBlock x:Name="OtherCountText" Text="Leaves: 0" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" Margin="0,0,12,0" />
            <Ellipse Fill="#FFE9C3" Width="10" Height="10" Margin="0,0,4,0" />
            <TextBlock x:Name="HolidayCountText" Text="Holiday: 0" Foreground="{DynamicResource MutedTextBrush}" FontSize="11" />
        </WrapPanel>
    </Grid>
</UserControl>

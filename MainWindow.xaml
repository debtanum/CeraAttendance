<Window x:Class="CeraRegularize.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:CeraRegularize.Controls"
        xmlns:pages="clr-namespace:CeraRegularize.Pages"
        mc:Ignorable="d"
        Title="CeraRegularize"
        Width="420"
        Height="500"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">
    <!--
      The main window hosts two panels: a top panel containing the custom
      TopBar and a lower panel containing a ContentControl for pages. This
      replicates the structure of the PySide6 AttendancePickerDialog, with
      panel1 for the menu/title/close button and panel2 for the page stack.
    -->
    <Grid Margin="12" Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="2" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <!-- Top panel: contains the title bar and menu -->
        <Border Grid.Row="0"
                CornerRadius="14"
                Background="{StaticResource CardBackgroundBrush}"
                BorderBrush="{StaticResource BorderBrushColor}"
                BorderThickness="1">
            <controls:TopBar x:Name="TopBarControl" Margin="9,4,9,4" />
        </Border>
        <!-- Spacing between panels -->
        <Rectangle Grid.Row="1" Fill="Transparent" />
        <!-- Bottom panel: displays pages -->
        <Border Grid.Row="2"
                CornerRadius="18"
                Background="{StaticResource CardBackgroundBrush}"
                BorderBrush="{StaticResource BorderBrushColor}"
                BorderThickness="1"
                Padding="8">
            <ContentControl x:Name="ContentArea" />
        </Border>
        <controls:LoadingOverlay x:Name="LoadingOverlay"
                                 Grid.Row="2"
                                 Panel.ZIndex="10"
                                 CornerRadius="18"
                                 HorizontalAlignment="Stretch"
                                 VerticalAlignment="Stretch" />
    </Grid>
</Window>
